<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>http缓存详解 | 树深遇鹿</title>
    <meta name="description" content="生活不可能像你想象的那么好，但也不会像你想象的那么糟">
    <link rel="preload stylesheet" href="/my-blog/assets/style.86980d4e.css" as="style">
    <script type="module" src="/my-blog/assets/app.45b43498.js"></script>
    <link rel="preload" href="/my-blog/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/my-blog/assets/chunks/framework.0020f959.js">
  <link rel="modulepreload" href="/my-blog/assets/chunks/theme.d83828dc.js">
  <link rel="modulepreload" href="/my-blog/assets/blogs_node_cache.md.4e7fc03c.lean.js">
  <meta name="theme-color" content="#ffffff">
  <link rel="icon" href="/favicon.ico" type="image/png">
  <link rel="alternate icon" href="/favicon.ico" type="image/png" sizes="16x16">
  <meta name="author" content="粥里有勺糖">
  <link rel="mask-icon" href="/favicon.ico" color="#ffffff">
  <link rel="apple-touch-icon" href="/favicon.ico" sizes="180x180">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-08b5e079 data-v-1cb60448><!--[--><!----><!--[--><div class="theme-blog-popover" style="display:none;" data-pagefind-ignore="all" data-v-a8e205cd><div class="header" data-v-a8e205cd><div class="title-wrapper" data-v-a8e205cd><i class="el-icon" style="font-size:20px;" data-v-a8e205cd><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" data-v-a8e205cd><path fill="currentColor" d="M288 128h608L736 384l160 256H288v320h-96V64h96v64z"></path></svg><!--]--></i><span class="title" data-v-a8e205cd></span></div><i class="el-icon close-icon" style="font-size:20px;" data-v-a8e205cd><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" data-v-a8e205cd><path fill="currentColor" d="M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"></path></svg><!--]--></i></div><!----><div class="footer content" data-v-a8e205cd><!--[--><!--]--></div></div><div class="theme-blog-popover-close" style="display:none;" data-v-a8e205cd><i class="el-icon" style="font-size:20px;" data-v-a8e205cd><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" data-v-a8e205cd><path fill="currentColor" d="M288 128h608L736 384l160 256H288v320h-96V64h96v64z"></path></svg><!--]--></i></div><!--]--><!--]--><!--[--><span tabindex="-1" data-v-9c39e8d0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-9c39e8d0> Skip to content </a><!--]--><!----><header class="VPNav" data-v-1cb60448 data-v-41aba26f><div class="VPNavBar has-sidebar" data-v-41aba26f data-v-283ee45f><div class="container" data-v-283ee45f><div class="title" data-v-283ee45f><div class="VPNavBarTitle has-sidebar" data-v-283ee45f data-v-1145a8b6><a class="title" href="/my-blog/" data-v-1145a8b6><!--[--><!--]--><!--[--><img class="VPImage logo" src="/my-blog/logo.png" alt data-v-4640e80b><!--]--><!--[-->树深遇鹿<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-283ee45f><div class="curtain" data-v-283ee45f></div><div class="content-body" data-v-283ee45f><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><div class="VPNavBarSearch search" data-v-283ee45f><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-283ee45f data-v-926a484e><span id="main-nav-aria-label" class="visually-hidden" data-v-926a484e>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-blog/blogs/informal-essay/" tabindex="0" data-v-926a484e data-v-4740b1b5 data-v-0cbfc650><!--[-->随笔<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-blog/blogs/html/" tabindex="0" data-v-926a484e data-v-4740b1b5 data-v-0cbfc650><!--[-->HTML<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-blog/blogs/javascript/" tabindex="0" data-v-926a484e data-v-4740b1b5 data-v-0cbfc650><!--[-->JavaScript<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-blog/blogs/typeScript/" tabindex="0" data-v-926a484e data-v-4740b1b5 data-v-0cbfc650><!--[-->TypeScript<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-283ee45f data-v-3c3f3a58><label title="toggle dark mode" data-v-3c3f3a58 data-v-7a73bdbd><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-7a73bdbd data-v-2f846f60><span class="check" data-v-2f846f60><span class="icon" data-v-2f846f60><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-7a73bdbd><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-7a73bdbd><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-283ee45f data-v-a6929b74 data-v-c7f4cce9><!--[--><a class="VPSocialLink" href="https://github.com/wzwdream" aria-label="github" target="_blank" rel="noopener" data-v-c7f4cce9 data-v-f7b1bde6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-283ee45f data-v-ee0221e9 data-v-0f668eb4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-0f668eb4><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-0f668eb4><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-0f668eb4><div class="VPMenu" data-v-0f668eb4 data-v-c0e216e7><!----><!--[--><!--[--><!----><div class="group" data-v-ee0221e9><div class="item appearance" data-v-ee0221e9><p class="label" data-v-ee0221e9>Appearance</p><div class="appearance-action" data-v-ee0221e9><label title="toggle dark mode" data-v-ee0221e9 data-v-7a73bdbd><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-7a73bdbd data-v-2f846f60><span class="check" data-v-2f846f60><span class="icon" data-v-2f846f60><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-7a73bdbd><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-7a73bdbd><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-ee0221e9><div class="item social-links" data-v-ee0221e9><div class="VPSocialLinks social-links-list" data-v-ee0221e9 data-v-c7f4cce9><!--[--><a class="VPSocialLink" href="https://github.com/wzwdream" aria-label="github" target="_blank" rel="noopener" data-v-c7f4cce9 data-v-f7b1bde6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-283ee45f data-v-366dc0d9><span class="container" data-v-366dc0d9><span class="top" data-v-366dc0d9></span><span class="middle" data-v-366dc0d9></span><span class="bottom" data-v-366dc0d9></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-1cb60448 data-v-30847434><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-30847434><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-30847434><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-30847434>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-30847434 data-v-1b61c6ad><button data-v-1b61c6ad>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-1cb60448 data-v-5c929276><div class="curtain" data-v-5c929276></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-5c929276><span class="visually-hidden" id="sidebar-aria-label" data-v-5c929276> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-5c929276><div class="VPSidebarItem level-0" data-v-5c929276 data-v-a0c42519><!----><!----></div></div><!--]--><!--[--><!--[--><div class="sidebar" data-pagefind-ignore="all" data-v-08b5e079 data-v-69e72e8b><div class="card recommend" data-pagefind-ignore="all" data-v-69e72e8b data-v-bdbded5a><div class="card-header" data-v-bdbded5a><span class="title" data-v-bdbded5a>🔍 相关文章</span><!----></div><ol class="recommend-container" data-v-bdbded5a><!--[--><li data-v-bdbded5a><i class="num" data-v-bdbded5a>1</i><div class="des" data-v-bdbded5a><a class="el-link el-link--info is-underline title" href="/my-blog/blogs/node/index" data-v-bdbded5a><!--v-if--><span class="el-link__inner"><!--[-->typescript<!--]--></span><!--v-if--></a><div class="suffix" data-v-bdbded5a><span class="tag" data-v-bdbded5a>15小时前</span></div></div></li><li data-v-bdbded5a><i class="num" data-v-bdbded5a>2</i><div class="des" data-v-bdbded5a><a class="el-link el-link--info is-underline title" href="/my-blog/blogs/node/cache" data-v-bdbded5a><!--v-if--><span class="el-link__inner"><!--[-->http缓存详解<!--]--></span><!--v-if--></a><div class="suffix" data-v-bdbded5a><span class="tag" data-v-bdbded5a>1天前</span></div></div></li><!--]--></ol></div></div><!--]--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-1cb60448 data-v-7f10e00a><div class="VPDoc has-sidebar has-aside" data-v-7f10e00a data-v-3fed5b62><!--[--><!--]--><div class="container" data-v-3fed5b62><div class="aside" data-v-3fed5b62><div class="aside-curtain" data-v-3fed5b62></div><div class="aside-container" data-v-3fed5b62><div class="aside-content" data-v-3fed5b62><div class="VPDocAside" data-v-3fed5b62 data-v-e6f785a8><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-e6f785a8 data-v-3ee32978><div class="content" data-v-3ee32978><div class="outline-marker" data-v-3ee32978></div><div class="outline-title" data-v-3ee32978>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-3ee32978><span class="visually-hidden" id="doc-outline-aria-label" data-v-3ee32978> Table of Contents for current page </span><ul class="root" data-v-3ee32978 data-v-29b5344d><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-e6f785a8></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-3fed5b62><div class="content-container" data-v-3fed5b62><!--[--><!--[--><!--[--><!----><!----><!--]--><!--]--><!--]--><!----><main class="main" data-v-3fed5b62><div style="position:relative;" class="vp-doc _my-blog_blogs_node_cache" data-v-3fed5b62><div><h2 id="引言📇" tabindex="-1">引言📇 <a class="header-anchor" href="#引言📇" aria-label="Permalink to &quot;引言📇&quot;">​</a></h2><p>HTTP缓存是一种用于提高网站性能和减少带宽使用的技术。当用户访问一个网页时，浏览器会下载页面上的所有资源（如HTML、CSS、JavaScript等），这些资源会占用大量的带宽和时间。为了减少这些资源的加载时间，HTTP缓存机制被引入。📚︎</p><p>缓存分为<strong>强缓存</strong>和<strong>协商缓存</strong>两种，强缓存不能缓存地址栏访问的文件，协商缓存可以缓存地址栏访问的文件。</p><h2 id="_1、强缓存🛅" tabindex="-1">1、强缓存🛅 <a class="header-anchor" href="#_1、强缓存🛅" aria-label="Permalink to &quot;1、强缓存🛅&quot;">​</a></h2><p>由服务器设置过期时间，在该时间到期之前，浏览器会直接从本地缓存中获取资源。</p><p><strong>强缓存</strong>的实现方式有两种：<code>Expires</code>和<code>Cache-Control</code>。</p><h3 id="_1-1、expires❤️❤️🤍🤍🤍" tabindex="-1">1.1、Expires❤️❤️🤍🤍🤍 <a class="header-anchor" href="#_1-1、expires❤️❤️🤍🤍🤍" aria-label="Permalink to &quot;1.1、Expires❤️❤️🤍🤍🤍&quot;">​</a></h3><p><code>Expires</code> 是 HTTP 缓存机制中实现强缓存的一种方式，它通过在响应头部中加入一个过期时间来控制缓存。<code>Expires</code> 的值是一个日期，格式为：<code>Wed, 21 Oct 2015 07:28:00 GMT</code>。它表示该资源的过期时间。当浏览器再次请求该资源时，会判断是否在该过期时间内，如果是则直接从缓存中获取资源，否则重新向服务器请求。</p><p>要设置 <code>Expires</code> 头部，需要在服务器端进行配置。例如，在 Nginx 中可以使用expires指令来设置过期时间：</p><div class="language-config"><button title="Copy Code" class="copy"></button><span class="lang">config</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">location / {</span></span>
<span class="line"><span style="color:#A6ACCD;">    expires 1h;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><blockquote><p>注意⚡⚡：由于Expires是基于客户端时间计算的，如果客户端的时间与服务器的时间不一致，则可能会影响缓存效果。</p></blockquote><h3 id="_1-2、cache-control❤️❤️❤️🤍🤍" tabindex="-1">1.2、Cache-Control❤️❤️❤️🤍🤍 <a class="header-anchor" href="#_1-2、cache-control❤️❤️❤️🤍🤍" aria-label="Permalink to &quot;1.2、Cache-Control❤️❤️❤️🤍🤍&quot;">​</a></h3><p><code>Cache-Control</code> 是通过在响应头部中加入 <code>Cache-Control</code> 字段，并设置max-age值来表示该资源在多少秒内有效（即缓存的最大时长）。</p><p><code>Cache-Control</code>响应头的最常用格式为：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Cache</span><span style="color:#89DDFF;">-</span><span style="color:#FFCB6B;">Control</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> max</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">age</span><span style="color:#89DDFF;">=&lt;</span><span style="color:#F07178;">seconds</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> // seconds 是缓存的时间，单位是秒</span></span></code></pre></div><p>当浏览器请求资源得到的响应头中带有 <code>Cache-Control</code> 响应头时，浏览器会将该资源缓存到本地。在下一次访问该资源时，同时满足下述条件，浏览器就会使用本地资源（即缓存），而不重新去服务器请求该资源：</p><ol><li>缓存时间未过期</li><li>URL未发生变化</li><li>请求头中没有 <code>Cache-Control: no-cache</code> 或 <code>Pragma: no-cache</code> 这两个信息（强制刷新会在请求头中添加 <code>Cache-Control: no-cache</code>）</li></ol><blockquote><p>注意⚡⚡：直接通过浏览器的地址栏访问的资源缓存会失效（跟强制刷新一样会在请求头中添加 <code>Cache-Control: no-cache</code>）</p></blockquote><p>接下来我们通过一个简单的页面来实践一下：</p><p>目录结构，我们准备两个文件 <code>index.js</code> 和 <code>index.html</code> ，再准备两张图片：</p><div class="language-yml"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C3E88D;">http</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">|</span><span style="color:#C792EA;">-</span><span style="color:#A6ACCD;">-- index.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">|</span><span style="color:#C792EA;">-</span><span style="color:#A6ACCD;">-- index.html</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">|</span><span style="color:#C792EA;">-</span><span style="color:#A6ACCD;">-- 1.jpg</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">|</span><span style="color:#A6ACCD;">___ 2.jpg</span></span></code></pre></div><p><strong>index.js</strong></p><p>提供一个 node 服务，用于返回浏览器请求的资源（index.html 和图片）</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// index.js</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> http </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> server </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createServer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">req</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">filePath</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">index.html</span><span style="color:#89DDFF;">`</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1.jpg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeHead</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">200</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">Content-Type</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">text/html; charset=utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">image/png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">Cache-Control</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">max-age=86400</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 缓存一天</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fileStream</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createReadStream</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">filePath</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fileStream</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pipe</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">clientError</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">err</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">socket</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">socket</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">end</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">HTTP/1.1 400 Bad Request</span><span style="color:#A6ACCD;">\r\n\r\n</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">listen</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">8080</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">opened server on http://localhost:</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">address</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">port</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><p><strong>index.html</strong></p><p>一个简单的页面，包含一张图片，因为我们会直接通过浏览器的地址栏访问 <code>html</code>，所以 <code>html</code> 的缓存策略会失效。这里我们判断缓存是否生效是通过页面中的图片去判断的。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- index.html --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;!</span><span style="color:#F07178;">DOCTYPE</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">en</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">charset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">UTF-8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">http-equiv</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">X-UA-Compatible</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">content</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">IE=edge</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">viewport</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">content</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">width=device-width, initial-scale=1.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Hello World</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Hello World!</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">&lt;!-- 别忘记替换成你的图片名称 --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">img</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./1.jpg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">title</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>然后随便准备两张图片就可以了，我们在项目的跟目录使用 <code>node index.js</code> 来启动项目。如下图提示，就表示启动成功，然后我们通过浏览器访问 <code>http://localhost:8080/</code> 就能看到我们的页面了。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f199b4c404a645f6bf0b9484aa719fd6~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><strong>首次请求</strong> 我们主要看图片的请求头跟响应头就行（因为html的缓存会失效）。</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/df08eb2c462f4c6bb2aa6d655653867c~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/09c9a387c7db41f5b5ac0ab546cc08f8~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><strong>刷新页面（非强制刷新）</strong></p><p>第二次的请求可以看到请求的 <code>Size</code> 变成了 <code>memory cache</code>，并且 <code>Time</code> 也变为了 0。再进一步看请求头和响应头，请求头中的 <code>Cache-Control: no-cache</code> 属性没有了，并且浏览器会给出一个警告：<code>Provisional headers are shown. Disable cache to see full headers.</code>。大致意思就是当前使用的是缓存的临时文件，禁用缓存后才可以查看完整的请求头。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c0d7e374104467c91cd181359bfea6a~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/83c66bd8cbef4fccad2cb14467463bab~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><strong>验证缓存</strong></p><p>上述的方法可能并不一定让你相信我们使用的是缓存文件，而不是重新请求的资源文件。</p><p>一开始我们准备了两张图片，现在使用的是 <code>1.jpg</code>，还有一个 <code>2.jpg</code>，我们把 <code>1.jpg</code> 删除了，然后把<code>2.jpg</code> 改名成 <code>1.jpg</code>，然后刷新页面（非强制刷新），就会发现虽然我们图片更改了，但是图片并不是我们后面改名的那个图片，还是之前的图片。</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7e882db2f0764e0f864db9a3dfa28d6a~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>强制刷新后就能看到，我们替换的图片生效了，请求头中也带上了 <code>Cache-Control: no-cache</code> 属性。</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3a245f218a424f929fcc10ffb69167f6~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><h2 id="_2、协商缓存" tabindex="-1">2、协商缓存 <a class="header-anchor" href="#_2、协商缓存" aria-label="Permalink to &quot;2、协商缓存&quot;">​</a></h2><p>利用浏览器和服务器之间的通信来确定是否需要重新获取资源。</p><p>协商缓存有两种实现方式：<code>If-Modified-Since</code> 和 <code>ETag</code></p><p>当浏览器第一次请求资源时，服务器会返回该资源的 <code>ETag</code> 值和 <code>Last-Modified</code> 时间。当浏览器再次请求该资源时，它会将这些值作为请求头部的 <code>If-Modified-Since</code> 和 <code>If-None-Match</code> 字段发送给服务器。服务器会比较这些值与资源的当前状态，如果资源没有发生变化，服务器返回 <code>304 Not Modified</code> 响应，告诉浏览器可以使用缓存的资源。</p><p>如果资源已经发生了变化，服务器会返回新的资源，并更新 <code>ETag</code> 和 <code>Last-Modified</code> 。</p><h3 id="_2-1、if-modified-since-❤️❤️❤️❤️🤍" tabindex="-1">2.1、If-Modified-Since ❤️❤️❤️❤️🤍 <a class="header-anchor" href="#_2-1、if-modified-since-❤️❤️❤️❤️🤍" aria-label="Permalink to &quot;2.1、If-Modified-Since ❤️❤️❤️❤️🤍&quot;">​</a></h3><p>利用响应头的 <code>Last-Modified</code> 来设置缓存，并在下次请求的请求头中携带 <code>If-Modified-Since</code> 来判断该资源是否发生变化，如果发生变化则返回新的资源，并更新 <code>Last-Modified</code> 属性，如果没有发生变化，则返回 <code>304</code> 跟空的 <code>body</code>。</p><p>对强缓存的例子稍微修改一下</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// index.js</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> http </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> server </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createServer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">req</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">filePath</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">index.html</span><span style="color:#89DDFF;">`</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1.jpg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">stat</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">statSync</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">filePath</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">lastModified</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">stat</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mtime</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toUTCString</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">header</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">Content-Type</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">text/html; charset=utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">image/png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">Last-Modified</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">lastModified</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 判断资源是否发生变化</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">headers</span><span style="color:#F07178;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">if-modified-since</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">lastModified</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeHead</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">304</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">header</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">end</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeHead</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">200</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">header</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fileStream</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createReadStream</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">filePath</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fileStream</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pipe</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">clientError</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">err</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">socket</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">socket</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">end</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">HTTP/1.1 400 Bad Request</span><span style="color:#A6ACCD;">\r\n\r\n</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">listen</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">8080</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">opened server on http://localhost:</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">address</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">port</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><p><strong>首次请求</strong></p><p>响应头携带 <code>Last-Modified: Mon, 05 Jun 2023 08:57:17 GMT</code> 属性，告诉浏览器这个文件需要缓存。</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da7d7f17126e4edebaa2009cf2f151e2~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><strong>刷新页面（非强制刷新）</strong></p><p>第二次请求，响应状态码变为 <code>304</code>，并在请求头中携带 <code>If-Modified-Since: Mon, 05 Jun 2023 08:57:17 GMT</code> 属性，表示浏览器使用缓存文件。</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c85f8ade9f5d4e36987ecadf42a90ce5~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><strong>改变html文件</strong></p><p>把 html 中 的 <code>Hello World!</code> 改为 <code>Web Html</code>，并刷新页面（非强制刷新），发现响应状态码变为 <code>200</code> ，并且更新了页面和响应头的 <code>Last-Modified</code> 属性。</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7ff61f9b6c8f429a8c4ee8c2d7dfad83~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><blockquote><p>注意⚡⚡：如果资源的修改时间只精确到秒，而不是毫秒，可能会导致缓存失效。此外，如果服务器上的资源被修改了，但修改时间没有更新，也会导致缓存失效</p></blockquote><h3 id="_2、etag-❤️❤️❤️❤️❤️" tabindex="-1">2、ETag ❤️❤️❤️❤️❤️ <a class="header-anchor" href="#_2、etag-❤️❤️❤️❤️❤️" aria-label="Permalink to &quot;2、ETag ❤️❤️❤️❤️❤️&quot;">​</a></h3><p><code>ETag</code> 基本上与 <code>If-Modified-Since</code> 一致， 利用响应头的 <code>Etag</code> 来设置缓存，并在下次请求的请求头中携带 <code>if-none-match</code> 来判断该资源是否发生变化，如果发生变化则返回新的资源，并更新 <code>Etag</code> 属性，如果没有发生变化，则返回 <code>304</code> 跟空的 <code>body</code>。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> http </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> crypto </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">crypto</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> server </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createServer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">req</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">filePath</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">index.html</span><span style="color:#89DDFF;">`</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1.jpg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fileContent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readFileSync</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">filePath</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">hash</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createHash</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">md5</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">update</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">fileContent</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">digest</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hex</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">etag</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">hash</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">`</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// etag需要加双引号</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">header</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">Content-Type</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">text/html; charset=utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">image/png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">Etag</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">etag</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">headers</span><span style="color:#F07178;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">if-none-match</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">etag</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeHead</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">304</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">header</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">end</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeHead</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">200</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">header</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fileStream</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createReadStream</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">filePath</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fileStream</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pipe</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">clientError</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">err</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">socket</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">socket</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">end</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">HTTP/1.1 400 Bad Request</span><span style="color:#A6ACCD;">\r\n\r\n</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">listen</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">8080</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">opened server on http://localhost:</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">address</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">port</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><p>这里的测试证明就不写，不然这文章的字数就太水了，如果你们有兴趣可以自己尝试一下。</p><blockquote><p>博客主要记录一些学习的文章，如有不足，望大家指出，谢谢。</p></blockquote></div></div></main><footer class="VPDocFooter" data-v-3fed5b62 data-v-75546f28><!--[--><!--]--><div class="edit-info" data-v-75546f28><div class="edit-link" data-v-75546f28><a class="VPLink link edit-link-button" href="https://github.com/ATQQ/sugar-blog/tree/master/packages/blogpress/blogs/node/cache.md" target="_blank" rel="noreferrer" data-v-75546f28 data-v-0cbfc650><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-75546f28><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> 去 GitHub 上编辑内容<!--]--><!----></a></div><div class="last-updated" data-v-75546f28><p class="VPLastUpdated" data-v-75546f28 data-v-60f9f1b6>上次更新于: <time datetime="2023-06-05T09:32:02.000Z" data-v-60f9f1b6></time></p></div></div><!----></footer><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"blogs_informal-essay_timer.md\":\"ac11b465\",\"blogs_javascript_canvas.md\":\"92598f6f\",\"blogs_javascript_index.md\":\"ce175c1f\",\"blogs_javascript_event-loop.md\":\"6e92eb06\",\"blogs_html_h5-drop.md\":\"abadbc82\",\"blogs_html_index.md\":\"a59a3119\",\"blogs_informal-essay_download.md\":\"3f68779b\",\"blogs_informal-essay_if-else.md\":\"dea09044\",\"blogs_informal-essay_iframe.md\":\"78d23de2\",\"blogs_informal-essay_index.md\":\"11bf5d09\",\"blogs_informal-essay_luckydraw9.md\":\"a1ac8fb0\",\"blogs_javascript_base64toformdata.md\":\"7fae2d89\",\"blogs_informal-essay_regularexpression.md\":\"c6af9e5d\",\"blogs_javascript_observer-mode1.md\":\"2e3f72e9\",\"blogs_javascript_promise.md\":\"4d4be6ea\",\"blogs_javascript_prototype.md\":\"7e6a6c03\",\"blogs_javascript_observer-mode.md\":\"c633b1f6\",\"index.md\":\"0153882a\",\"blogs_javascript_handwrittencode.md\":\"db4b7f31\",\"blogs_javascript_scope.md\":\"136f8ea1\",\"blogs_javascript_vuepressdeploy.md\":\"457b0937\",\"blogs_node_cache.md\":\"4e7fc03c\",\"blogs_node_index.md\":\"1588a3c5\",\"blogs_typescript_index.md\":\"c50999ce\",\"blogs_typescript_ts.md\":\"00097d0e\",\"blogs_vue_index.md\":\"19ebef24\",\"blogs_vue_vue-grid-layout.md\":\"c08e7e69\",\"blogs_vue_vue3tsx.md\":\"2115ce08\",\"blogs_webpack_webpack-principle.md\":\"96ba45b8\",\"blogs_webpack_index.md\":\"62b18480\",\"blogs_webpack_webpack5-basics.md\":\"223ccee4\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-cn\",\"dir\":\"ltr\",\"title\":\"树深遇鹿\",\"description\":\"生活不可能像你想象的那么好，但也不会像你想象的那么糟\",\"base\":\"/my-blog/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"blog\":{\"pagesData\":[{\"route\":\"/blogs/html/h5-drop\",\"meta\":{\"title\":\"HTML5-拖拽上传文件\",\"date\":\"2021-10-28 16:00:00\",\"tags\":[\"html\",\"javascript\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\",\"html\"],\"cover\":\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/32e44193a5794578ba6bb60735e0204f~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/html/index\",\"meta\":{\"hidden\":true,\"title\":\"HTML\",\"date\":\"2023-06-05 09:32:02\",\"tag\":[],\"description\":\" 目录\\n* HTML5-拖拽上传文件\",\"cover\":\"\"}},{\"route\":\"/blogs/informal-essay/download\",\"meta\":{\"title\":\"关于前端下载的一些问题\",\"date\":\"2023-01-14 16:00:00\",\"tags\":[\"javascript\",\"随笔\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\",\"随笔\"],\"cover\":\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a13ef20e0c9344c69250ab6c1777361a~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/informal-essay/if-else\",\"meta\":{\"title\":\"减少if-else，提高代码可读性\",\"date\":\"2022-10-11 16:00:00\",\"tags\":[\"javascript\",\"随笔\"],\"categories\":[\"javascript\"],\"top\":1,\"sticky\":1,\"tag\":[\"javascript\",\"随笔\"],\"cover\":\"\"}},{\"route\":\"/blogs/informal-essay/iframe\",\"meta\":{\"title\":\"iframe之间的通信\",\"date\":\"2023-02-14 16:00:00\",\"tags\":[\"javascript\",\"随笔\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\",\"随笔\"],\"cover\":\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f49102949b224b579f43b71e7e0f5aba~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/informal-essay/index\",\"meta\":{\"hidden\":true,\"title\":\"javascript\",\"date\":\"2023-06-05 09:32:02\",\"tag\":[],\"description\":\" 目录\\n* 关于前端下载的一些问题\\n* 减少if-else，提高代码可读性\\n* iframe之间的通信\\n* 九宫格抽奖的简单实现\\n* 正则表达式的一些知识\\n* 关于定时器的一些知识\",\"cover\":\"\"}},{\"route\":\"/blogs/informal-essay/luckyDraw9\",\"meta\":{\"title\":\"九宫格抽奖的简单实现\",\"date\":\"2022-09-28 16:00:00\",\"tags\":[\"javascript\",\"随笔\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\",\"随笔\"],\"cover\":\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f71edda8b9124a84ace462978e4f8c68~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/informal-essay/regularExpression\",\"meta\":{\"title\":\"正则表达式的一些知识\",\"date\":\"2022-01-14 16:00:00\",\"tags\":[\"随笔\",\"javascript\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\",\"随笔\"],\"cover\":\"\"}},{\"route\":\"/blogs/informal-essay/timer\",\"meta\":{\"title\":\"关于定时器的一些知识\",\"date\":\"2021-12-28 16:00:00\",\"tags\":[\"随笔\",\"javascript\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\",\"随笔\"],\"cover\":\"\"}},{\"route\":\"/blogs/javascript/base64ToFormData\",\"meta\":{\"title\":\"上传文件base64流转formData\",\"date\":\"2022-08-14 16:00:00\",\"tags\":[\"javascript\",\"随笔\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\",\"随笔\"],\"cover\":\"\"}},{\"route\":\"/blogs/javascript/canvas\",\"meta\":{\"title\":\"canvas基础\",\"date\":\"2022-09-24 16:00:00\",\"tags\":[\"javascript\",\"canvas\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\",\"canvas\"],\"cover\":\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/30d0dec7b8274f1d98340835307ec800~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/javascript/event-loop\",\"meta\":{\"title\":\"Event-Loop\",\"date\":\"2021-11-28 16:00:00\",\"tags\":[\"javascript\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\"],\"cover\":\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9da2fa26db4a42828718f2a345ab257d~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/javascript/handwrittenCode\",\"meta\":{\"title\":\"一些手写的源码解析\",\"date\":\"2022-06-14 16:00:00\",\"tags\":[\"javascript\",\"源码\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\",\"源码\"],\"cover\":\"\"}},{\"route\":\"/blogs/javascript/index\",\"meta\":{\"hidden\":true,\"title\":\"javascript\",\"date\":\"2023-06-05 09:32:02\",\"tag\":[],\"description\":\" 目录\\n* 上传文件base64流转formData\\n* canvas基础\\n* Event-Loop\\n* 一些手写的源码解析\\n* 观察者模式跟发布订阅者模式\\n* js的设计模式\\n* promise原理\",\"cover\":\"\"}},{\"route\":\"/blogs/javascript/observer-mode\",\"meta\":{\"title\":\"js的设计模式（一）-观察者模式跟发布订阅者模式\",\"date\":\"2022-05-29 16:00:00\",\"tags\":[\"javascript\",\"设计模式\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\",\"设计模式\"],\"cover\":\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/93539c25edd640dcb8a22180bee10f9f~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/javascript/observer-mode1\",\"meta\":{\"title\":\"js的设计模式（二）\",\"date\":\"2022-06-21 16:00:00\",\"tags\":[\"javascript\",\"设计模式\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\",\"设计模式\"],\"cover\":\"\"}},{\"route\":\"/blogs/javascript/promise\",\"meta\":{\"title\":\"promise原理学习\",\"date\":\"2022-06-01 16:00:00\",\"tags\":[\"javascript\",\"源码\"],\"categories\":[\"javascript\"],\"top\":2,\"sticky\":2,\"tag\":[\"javascript\",\"源码\"],\"cover\":\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b120ecca0c184286b23230c9ad25889c~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/javascript/prototype\",\"meta\":{\"title\":\"原型与原型链\",\"date\":\"2022-06-06 16:00:00\",\"tags\":[\"javascript\"],\"categories\":[\"javascript\"],\"top\":3,\"sticky\":3,\"tag\":[\"javascript\"],\"cover\":\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f114b4dc81db487b899e72c4995361b6~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/javascript/scope\",\"meta\":{\"title\":\"作用域跟作用域链\",\"date\":\"2022-06-07 16:00:00\",\"tags\":[\"javascript\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\"],\"cover\":\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/540c500e67554aa1b70f65d9558f5fb0~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/javascript/vuepressDeploy\",\"meta\":{\"title\":\"vuepress部署博客\",\"date\":\"2021-10-29 16:00:00\",\"tags\":[\"javascript\"],\"categories\":[\"javascript\"],\"tag\":[\"javascript\"],\"description\":\"```\\n- 运行`npm run dev`命令，就可以通过本地访问我们的第一篇文档（README.md）。\\n 目录结构\\n官方推荐的目录结构，大家可以按照这个结构去构建\\n```\\n.\\n├── docs\\n│\",\"cover\":\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8a487dfab9a949f49d1ff4925ee6d0f8~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/node/cache\",\"meta\":{\"title\":\"http缓存详解\",\"date\":\"2023-06-04 16:00:00\",\"tags\":[\"node\"],\"categories\":[\"node\"],\"sticky\":4,\"tag\":[\"node\"],\"cover\":\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f199b4c404a645f6bf0b9484aa719fd6~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/node/index\",\"meta\":{\"hidden\":true,\"title\":\"typescript\",\"date\":\"2023-06-05 09:32:02\",\"tag\":[],\"description\":\" 目录\\n* http缓存\",\"cover\":\"\"}},{\"route\":\"/blogs/typeScript/index\",\"meta\":{\"hidden\":true,\"title\":\"typescript\",\"date\":\"2023-06-05 09:32:02\",\"tag\":[],\"description\":\" 目录\\n* typeScript基础学习\",\"cover\":\"\"}},{\"route\":\"/blogs/typeScript/ts\",\"meta\":{\"title\":\"typeScript基础学习\",\"date\":\"2022-09-09 16:00:00\",\"tags\":[\"typeScript\"],\"categories\":[\"typeScript\"],\"sticky\":4,\"tag\":[\"typeScript\"],\"description\":\"```\\nTypeScript 官方还提供了一个在线的学习网站 TypeScript Playground 来学习新的语法或新特性。\\n 二、TypeScript 中的基础类型\\n在 `TypeScript\",\"cover\":\"\"}},{\"route\":\"/blogs/vue/index\",\"meta\":{\"hidden\":true,\"title\":\"Vue\",\"date\":\"2023-06-05 09:32:02\",\"tag\":[],\"description\":\" 目录\\n* vue3（tsx）-从搭建到实践\\n* vue3+Ts+grid布局实现的拖拽布局插件\",\"cover\":\"\"}},{\"route\":\"/blogs/vue/vue-grid-layout\",\"meta\":{\"title\":\"vue3+Ts+grid布局实现的拖拽布局插件\",\"tags\":[\"TypeScript\",\"vue3\"],\"categories\":[\"vue3\"],\"sticky\":5,\"date\":\"2023-06-05 09:32:02\",\"tag\":[\"vue3\",\"TypeScript\"],\"description\":\"npm install vue3-grid-layout --save\\n 使用 yarn\\nyarn add vue3-grid-layout -D\\n 使用 pnpm\\npnpm add vue3-gri\",\"cover\":\"\"}},{\"route\":\"/blogs/vue/vue3Tsx\",\"meta\":{\"title\":\"vue3（tsx）-从搭建到实践\",\"date\":\"2022-07-31 16:00:00\",\"tags\":[\"TypeScript\",\"vue3\",\"tsx/jsx\"],\"categories\":[\"vue3\"],\"sticky\":5,\"tag\":[\"vue3\",\"TypeScript\",\"tsx/jsx\"],\"description\":\"npm init vite@latest my-vue-app --template\\n npm 7+, 需要额外的双横线：\\nnpm init vite@latest my-vue-app -- --t\",\"cover\":\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0412d846777145109acdfe29cc079689~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/webpack/index\",\"meta\":{\"hidden\":true,\"title\":\"Webpack\",\"date\":\"2023-06-05 09:32:02\",\"tag\":[],\"description\":\" 目录\\n* webpack5-基础配置优化篇\\n* webpack5-原理篇\",\"cover\":\"\"}},{\"route\":\"/blogs/webpack/webpack-principle\",\"meta\":{\"title\":\"webpack5-原理篇\",\"date\":\"2022-07-14 16:00:00\",\"tags\":[\"javascript\",\"webpack5\"],\"categories\":[\"webpack5\"],\"tag\":[\"webpack5\",\"javascript\"],\"cover\":\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3318702ea5a64e3784b0882f381fd400~tplv-k3u1fbpfcp-watermark.image?\"}},{\"route\":\"/blogs/webpack/webpack5-basics\",\"meta\":{\"title\":\"webpack5-基础配置优化篇\",\"date\":\"2022-07-04 16:00:00\",\"tags\":[\"javascript\",\"webpack5\"],\"categories\":[\"webpack5\"],\"tag\":[\"webpack5\",\"javascript\"],\"description\":\"dist\\n```\\n 2.10、处理css资源\\n 2.10.1、提取css文件\\n之前我们都是使用`style-loader`来处理css，它把css\\n打包到js中，在js文件加载的时候，创建一个styl\",\"cover\":\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0cb7a0f41c9645a294018e72b2f9824c~tplv-k3u1fbpfcp-watermark.image?\"}}],\"author\":\"树深遇鹿\",\"friend\":[{\"nickname\":\"粥里有勺糖\",\"des\":\"你的指尖用于改变世界的力量\",\"avatar\":\"https://img.cdn.sugarat.top/mdImg/MTY3NDk5NTE2NzAzMA==674995167030\",\"url\":\"https://sugarat.top\"},{\"nickname\":\"Vitepress\",\"des\":\"Vite & Vue Powered Static Site Generator\",\"avatar\":\"https://img.cdn.sugarat.top/mdImg/MTY3NDk5NTI2NzY1Ng==674995267656\",\"url\":\"https://vitepress.vuejs.org/\"}],\"search\":false},\"sidebar\":[{\"text\":\"\",\"items\":[]}],\"nav\":[{\"text\":\"随笔\",\"link\":\"/blogs/informal-essay/\"},{\"text\":\"HTML\",\"link\":\"/blogs/html/\"},{\"text\":\"JavaScript\",\"link\":\"/blogs/javascript/\"},{\"text\":\"TypeScript\",\"link\":\"/blogs/typeScript/\"}],\"lastUpdatedText\":\"上次更新于\",\"editLink\":{\"pattern\":\"https://github.com/ATQQ/sugar-blog/tree/master/packages/blogpress/:path\",\"text\":\"去 GitHub 上编辑内容\"},\"logo\":\"/logo.png\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/wzwdream\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>